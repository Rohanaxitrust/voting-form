<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>axiTrust Ideathon Voting</title>
    <style>
        /* --- Google Font Import --- */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        /* --- CSS Variables (from your flyer) --- */
        :root {
            --primary-green: #16a085; /* A vibrant teal/green */
            --accent-pink: #f57d9d; /* A celebratory pink */
            --highlight-gold: #f1c40f;
            --light-text: #ffffff;
            --dark-text: #333333;
            --light-grey: #ecf0f1;
            --card-bg: #ffffff;
            --border-radius: 12px;
            --box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* --- General Body Styles --- */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-grey);
            color: var(--dark-text);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- Header & Introduction --- */
        .page-header {
            background-color: var(--accent-pink);
            color: var(--light-text);
            width: 100%;
            text-align: center;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .page-header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        .page-header p {
            margin: 5px 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* --- Main Content Container --- */
        .container {
            max-width: 900px;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- Rules Section --- */
        .rules {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            text-align: center;
        }

        .rules h3 {
            margin-top: 0;
        }
        
        .rules ul {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        
        .rules li {
            font-weight: 600;
            color: var(--primary-green);
        }

        /* --- The Form --- */
        .voting-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .user-details {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .user-details div {
            display: flex;
            flex-direction: column;
        }

        .user-details label {
            margin-bottom: 8px;
            font-weight: 600;
        }

        .user-details input {
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 1em;
        }

        /* --- Idea Cards --- */
        .ideas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .idea-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            border: 3px solid transparent;
            transition: border-color 0.3s;
        }

        .idea-card.selected {
            border-color: var(--highlight-gold);
        }

        .idea-card h4 {
            margin-top: 0;
            color: var(--primary-green);
        }
        
        .idea-card .description p {
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        .idea-card .description strong {
            display: block;
            margin-top: 10px;
        }

        /* --- Voting Controls (Stepper) --- */
        .vote-control {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            gap: 15px;
        }

        .vote-control button {
            background-color: var(--primary-green);
            color: var(--light-text);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.8em;
            font-weight: bold;
            cursor: pointer;
            line-height: 40px;
            transition: background-color 0.2s;
        }
        
        .vote-control button:hover {
            background-color: #117a65;
        }

        .vote-amount {
            font-size: 1.5em;
            font-weight: 700;
            min-width: 60px;
            text-align: center;
        }

        /* --- Sticky Tracker Bar --- */
        .tracker-bar {
            position: sticky;
            bottom: 0;
            background-color: var(--dark-text);
            color: var(--light-text);
            padding: 15px;
            width: 100%;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 1000;
            box-sizing: border-box;
        }

        .tracker-item {
            text-align: center;
        }
        
        .tracker-item .value {
            font-size: 1.5em;
            font-weight: 700;
        }

        /* --- Submit Button --- */
        #submit-btn {
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: 700;
            font-family: 'Poppins', sans-serif;
            background-color: var(--highlight-gold);
            color: var(--dark-text);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        #submit-btn:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            opacity: 0.7;
        }

    </style>
</head>
<body>

    <header class="page-header">
        <h1>Ideathon: Automating axiTrust</h1>
        <p>Your Ideas, Our Future. Cast Your Vote!</p>
    </header>

    <main class="container">
        <form id="votingForm" class="voting-form">
            
            <section class="rules">
                <h3>How to Vote</h3>
                <ul>
                    <li>ðŸ’° Allocate your $10 budget</li>
                    <li>ðŸŽ¯ Vote for exactly 3 ideas</li>
                    <li>âœ‹ Max $5 per idea</li>
                </ul>
            </section>

            <section class="user-details">
                <div>
                    <label for="name">Your Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div>
                    <label for="email">Your Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </section>

            <div class="ideas-grid">
                <article class="idea-card" data-idea-id="1">
                    <h4>Idea #1: Automated Reporting</h4>
                    <div class="description">
                        <p><strong>Problem:</strong> Manually compiling weekly reports is time-consuming.</p>
                        <p><strong>Solution:</strong> A script that automatically pulls data and generates a report.</p>
                        <p><strong>Impact:</strong> Saves 5 hours per week and reduces human error.</p>
                    </div>
                    <div class="vote-control">
                        <button type="button" class="stepper-btn minus" aria-label="Decrease amount">-</button>
                        <span class="vote-amount">$0</span>
                        <button type="button" class="stepper-btn plus" aria-label="Increase amount">+</button>
                    </div>
                </article>

                <article class="idea-card" data-idea-id="2">
                    <h4>Idea #2: Smart Onboarding</h4>
                     <div class="description">
                        <p><strong>Problem:</strong> New hire setup involves multiple manual steps across different systems.</p>
                        <p><strong>Solution:</strong> A workflow that triggers account creation and access rights automatically.</p>
                        <p><strong>Impact:</strong> Faster onboarding and a better day-1 experience for new employees.</p>
                    </div>
                    <div class="vote-control">
                        <button type="button" class="stepper-btn minus" aria-label="Decrease amount">-</button>
                        <span class="vote-amount">$0</span>
                        <button type="button" class="stepper-btn plus" aria-label="Increase amount">+</button>
                    </div>
                </article>

                <article class="idea-card" data-idea-id="3">
                    <h4>Idea #3: Slack Integration for Approvals</h4>
                     <div class="description">
                        <p><strong>Problem:</strong> Leave and expense approvals get lost in email chains.</p>
                        <p><strong>Solution:</strong> A Slack bot that sends approval requests as interactive messages.</p>
                        <p><strong>Impact:</strong> Quicker approvals and better tracking of requests.</p>
                    </div>
                    <div class="vote-control">
                        <button type="button" class="stepper-btn minus" aria-label="Decrease amount">-</button>
                        <span class="vote-amount">$0</span>
                        <button type="button" class="stepper-btn plus" aria-label="Increase amount">+</button>
                    </div>
                </article>
                
                </div>
        </form>
    </main>

    <div class="tracker-bar">
        <div class="tracker-item">
            <span>Total Allocated</span>
            <div id="total-allocated" class="value">$0 / $10</div>
        </div>
        <div class="tracker-item">
            <span>Ideas Selected</span>
            <div id="ideas-selected" class="value">0 / 3</div>
        </div>
        <button type="submit" id="submit-btn" form="votingForm" disabled>Submit Vote</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const ideas = {}; // To store the state of each idea { id: amount }
            const MAX_TOTAL_ALLOCATION = 10;
            const MAX_IDEAS = 3;
            const MAX_PER_IDEA = 5;

            const totalAllocatedEl = document.getElementById('total-allocated');
            const ideasSelectedEl = document.getElementById('ideas-selected');
            const submitBtn = document.getElementById('submit-btn');
            const ideaCards = document.querySelectorAll('.idea-card');

            // Initialize state for all cards
            ideaCards.forEach(card => {
                const ideaId = card.dataset.ideaId;
                ideas[ideaId] = 0;
            });

            function updateState() {
                let currentTotal = 0;
                let selectedIdeasCount = 0;

                // Recalculate everything from the `ideas` object
                for (const id in ideas) {
                    currentTotal += ideas[id];
                    if (ideas[id] > 0) {
                        selectedIdeasCount++;
                        document.querySelector(`[data-idea-id='${id}']`).classList.add('selected');
                    } else {
                         document.querySelector(`[data-idea-id='${id}']`).classList.remove('selected');
                    }
                }
                
                // Update tracker display
                totalAllocatedEl.textContent = `$${currentTotal} / $${MAX_TOTAL_ALLOCATION}`;
                ideasSelectedEl.textContent = `${selectedIdeasCount} / ${MAX_IDEAS}`;

                // Check conditions and update submit button
                const isTotalCorrect = currentTotal === MAX_TOTAL_ALLOCATION;
                const isIdeaCountCorrect = selectedIdeasCount === MAX_IDEAS;

                if (isTotalCorrect && isIdeaCountCorrect) {
                    submitBtn.disabled = false;
                } else {
                    submitBtn.disabled = true;
                }
            }

            // Add event listeners to all stepper buttons
            ideaCards.forEach(card => {
                const ideaId = card.dataset.ideaId;
                const amountEl = card.querySelector('.vote-amount');
                
                card.querySelector('.plus').addEventListener('click', () => {
                    let currentTotal = Object.values(ideas).reduce((a, b) => a + b, 0);
                    if (ideas[ideaId] < MAX_PER_IDEA && currentTotal < MAX_TOTAL_ALLOCATION) {
                        ideas[ideaId]++;
                        amountEl.textContent = `$${ideas[ideaId]}`;
                        updateState();
                    }
                });

                card.querySelector('.minus').addEventListener('click', () => {
                    if (ideas[ideaId] > 0) {
                        ideas[ideaId]--;
                        amountEl.textContent = `$${ideas[ideaId]}`;
                        updateState();
                    }
                });
            });
            
            // Handle form submission
            document.getElementById('votingForm').addEventListener('submit', (e) => {
                e.preventDefault(); // Prevents actual form submission for this demo
                alert('Thank you for your vote! Your choices have been recorded.');
                // In a real application, you would send the `ideas` object and user details to a server here.
                submitBtn.disabled = true;
                submitBtn.textContent = "Thank You!";
            });
            
            // Initial state check
            updateState();
        });
    </script>
</body>
</html>
